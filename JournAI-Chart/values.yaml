# Default values for journai

# Global configuration
global:
  storageClass: ""

# Backend configuration
backend:
  replicaCount: 2
  
  image:
    repository: noylevi/journai-backend
    pullPolicy: Always
    tag: "v1.6"
  
  service:
    type: ClusterIP
    port: 3000
    targetPort: 3000
  
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

  persistence:
    enabled: true
    existingClaim: ""
    storageClass: "local-path"
    accessMode: ReadWriteOnce
    size: 10Gi
    mountPath: /app/uploads
    
  # Metrics configuration
  metrics:
    enabled: true
    port: 3000
    path: /metrics
    serviceMonitor:
      enabled: true 
      interval: 15s
      scrapeTimeout: 10s

# Frontend configuration
frontend:
  replicaCount: 2
  
  image:
    repository: noylevi/journai-frontend
    pullPolicy: Always   
    tag: "v1.2"
  
  service:
    type: ClusterIP
    port: 80
    targetPort: 8080
  
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  
# Ingress configuration
ingress:
  enabled: true
  className: traefik #:"nginx"
  hosts:
    - host: journai.com
      paths:
        - path: /
          pathType: Prefix
          backend: frontend
        - path: /api
          pathType: Prefix
          backend: backend
        - path: /uploads
          pathType: Prefix
          backend: backend


# Secrets configuration
secrets:
  # Use existing secret instead of creating from values
  useExistingSecret: false  # Set to true to use manually created secret
  existingSecretName: "journai-secrets"
  
  # Default values (only used if useExistingSecret=false)
  # Real secrets in values-secrets.yaml 
  jwtSecret: ""
  geminiApiKey: ""
  openaiApiKey: ""
  dbPassword: ""
